import './polyfills.server.mjs';
import{a as Se}from"./chunk-B43MNPBM.mjs";import{a as xe}from"./chunk-NQKG2YE6.mjs";import{a as Ne}from"./chunk-LGLALFI7.mjs";import"./chunk-B22Y7IUL.mjs";import{a as Me}from"./chunk-SMWEGEUO.mjs";import{a as L}from"./chunk-OUZKNZ4Z.mjs";import{a as Ce}from"./chunk-IDSKALUM.mjs";import{a as P}from"./chunk-WSQWBVCP.mjs";import{a as G}from"./chunk-GLNDTVHY.mjs";import{i as De}from"./chunk-4HU5A5SJ.mjs";import{$d as de,Be as he,Cc as oe,Ce as ye,Ea as t,Eb as Z,Ec as ie,Fa as e,Fc as ne,Ga as n,Gb as $,Gc as re,Hc as ae,J as U,Ja as H,Jb as h,Jd as _,K as V,Kd as le,La as b,Ld as y,Na as K,Nd as g,Oa as J,Od as me,Pd as w,Qd as v,Rd as se,Sd as pe,Ta as j,Te as ge,Ua as o,Ue as q,We as ve,Xe as D,Ya as Q,Za as X,_a as Y,fa as d,ge as T,he as B,ja as m,jc as ee,kc as S,lc as r,ma as f,mc as M,nc as x,oe as ue,pa as z,pe as R,qa as N,rc as F,sc as te,uc as I,we as ce,xa as u,xc as E,xe as fe,ye as be}from"./chunk-QOSB5ZEG.mjs";import{a as W,b as A}from"./chunk-S6KH3LOX.mjs";var Be=["*"],k=class a{static \u0275fac=function(l){return new(l||a)};static \u0275cmp=f({type:a,selectors:[["app-modal-footer"]],ngContentSelectors:Be,decls:4,vars:0,consts:[[1,"modal-footer-card","no-border"],[1,"modal-footer","no-border"]],template:function(l,i){l&1&&(K(),n(0,"hr"),t(1,"nb-card",0)(2,"nb-card-body",1),J(3),e()())},dependencies:[h,v,_,D,g,y],styles:[".modal-footer-card[_ngcontent-%COMP%]{background:transparent;box-shadow:none;border-top:1px solid var(--nb-border-basic);padding:1rem;display:flex;justify-content:flex-end;align-items:center}.modal-footer[_ngcontent-%COMP%]{display:flex;gap:10px}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:100px}.no-border[_ngcontent-%COMP%]{border:none!important;box-shadow:none!important;background:transparent!important}"]})};var O=class a extends Me{constructor(l,i,c,p,C,we,Te){super(C,i,Te);this.fb=l;this.datePipe=c;this.supportService=p;this.dialogRef=we;this.dialogRef=we}ngOnInit(){this.buildForm(),this.entityData&&this.patchFormValues(),window.addEventListener("keydown",this.handleEscKey.bind(this))}patchFormValues(){this.formData.patchValue({id:this.entityData.id||"",name:this.entityData.name||"",lastName:this.entityData.lastName||"",startDate:this.entityData.startDate?q(this.entityData.startDate+"","dd/MM/yyyy",new Date):null,finishDate:this.entityData.finishDate?q(this.entityData.finishDate+"","dd/MM/yyyy",new Date):null,typeDocument:this.entityData.typeDocument||"",document:this.entityData.document||"",salaryHours:this.entityData.salaryHours||""}),console.log("Form Values:",this.formData.value)}buildForm(){this.formData=this.fb.group({id:[""],name:["",r.required],lastName:[""],startDate:["",r.required],finishDate:["",r.required],document:["",r.required],typeDocument:[""],salaryHours:[""],idToFind:[""],nameToFind:[""],lastNameToFind:[""],documentToFind:[""]})}onSubmit(){let l=this.datePipe.transform(this.formData.value.startDate,"dd/MM/yyyy")||"",i=this.datePipe.transform(this.formData.value.finishDate,"dd/MM/yyyy")||"",c=A(W({},this.formData.value),{startDate:l,finishDate:i});this.spinnerService.show(),this.supportService.saveEmployee(c).subscribe({next:()=>this.handleSuccessResponseSaveOrUpdate(c),error:p=>this.handleErrorResponseSaveOrUpdate(p)})}static \u0275fac=function(i){return new(i||a)(m(ie),m(Ce),m($),m(Ne),m(P),m(ue),m(R))};static \u0275cmp=f({type:a,selectors:[["app-employee-detail"]],features:[z],decls:24,vars:4,consts:[["startDate",""],["finishDate",""],[3,"title"],[3,"ngSubmit","formGroup"],[1,"form-container"],["nbInput","","type","text","placeholder","ID","required","","formControlName","id","readonly",""],["nbInput","","type","text","placeholder","Name","required","","formControlName","name"],["nbInput","","type","text","placeholder","Last Name","required","","formControlName","lastName"],[1,"datepicker-group"],["nbInput","","placeholder","Start Date","formControlName","startDate",3,"nbDatepicker"],["format","dd/MM/yyyy"],["nbInput","","placeholder","End Date","formControlName","finishDate",3,"nbDatepicker"],["nbInput","","type","text","placeholder","Type Document","formControlName","typeDocument"],["nbInput","","type","number","placeholder","Salary Hours","formControlName","salaryHours"],["nbInput","","type","text","placeholder","Document","formControlName","document"],[1,"button-container"],["nbButton","","hero","","status","success","type","submit"],["nbButton","","hero","","status","danger","type","button",3,"click"]],template:function(i,c){if(i&1){let p=H();t(0,"nb-card")(1,"nb-card-body"),n(2,"app-modal-header",2),t(3,"form",3),b("ngSubmit",function(){return U(p),V(c.onSubmit())}),t(4,"div",4),n(5,"input",5)(6,"input",6)(7,"input",7),t(8,"div",8),n(9,"input",9)(10,"nb-datepicker",10,0),e(),t(12,"div",8),n(13,"input",11)(14,"nb-datepicker",10,1),e(),n(16,"input",12)(17,"input",13)(18,"input",14),e(),t(19,"app-modal-footer",15)(20,"button",16),o(21,"Save"),e(),t(22,"button",17),b("click",function(){return U(p),V(c.closeDialog())}),o(23,"Cancel"),e()()()()()}if(i&2){let p=j(11),C=j(15);d(2),u("title","Employee Detail"),d(),u("formGroup",c.formData),d(6),u("nbDatepicker",p),d(4),u("nbDatepicker",C)}},dependencies:[h,ee,v,w,de,me,g,y,B,T,_,D,se,pe,F,S,te,M,x,oe,I,E,ae,re,Se,k,ye,he,ge,ve],styles:[".form-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:16px;padding:16px;max-width:600px;margin:auto}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px;margin-top:16px}"]})};function Oe(a,s){a&1&&(t(0,"div",29)(1,"span"),o(2," The fiel is required "),e(),t(3,"span"),o(4," The text lenth is pluss "),e(),t(5,"span"),o(6," The text lenth is less "),e()())}function Ue(a,s){a&1&&(t(0,"div",29)(1,"span"),o(2," The fiel is required "),e(),t(3,"span"),o(4," The text lenth is pluss 50 "),e(),t(5,"span"),o(6," The text lenth is less 8 "),e()())}function Ve(a,s){a&1&&(t(0,"div",29)(1,"span"),o(2," The fiel is required "),e(),t(3,"span"),o(4," The text lenth is pluss 50 "),e(),t(5,"span"),o(6," The text lenth is less 8 "),e()())}function je(a,s){a&1&&(t(0,"div",29)(1,"span"),o(2," The fiel is required "),e(),t(3,"span"),o(4," The text lenth is pluss 50 "),e(),t(5,"span"),o(6," The text lenth is less 6 "),e()())}var _e=class a{constructor(s,l,i,c,p){this.formBuilder=s;this.userRepository=l;this.modalRepository=i;this.dialogService=c;this.dialog=p}loginForm;selectedItemType;user;get f(){return this.loginForm.controls}ngOnInit(){this.initForm(),this.loginForm.patchValue({name:"zarmir",lastName:"pillihuaman hurtado",password:"1988deza",repeatpassword:"1988deza",numTypeDocument:"12345678",typeDocument:"DNI",email:"pillihuamanhz@gmail.com",phoneNumber:"999999999",alias:"zarmir",userName:"zarmirph",rolId:1,code:1001,estatus:!0})}initForm(){this.loginForm=this.formBuilder.group({name:this.formBuilder.control("",[r.required,r.minLength(4),r.maxLength(50)]),lastName:this.formBuilder.control(""),password:this.formBuilder.control("",[r.required,r.minLength(8),r.maxLength(50)]),repeatpassword:this.formBuilder.control("",[r.required,r.minLength(8),r.maxLength(50)]),numTypeDocument:this.formBuilder.control(""),typeDocument:this.formBuilder.control(""),email:this.formBuilder.control("",[r.required,r.minLength(6),r.maxLength(50)]),phoneNumber:this.formBuilder.control(""),alias:this.formBuilder.control(""),userName:this.formBuilder.control(""),rolId:this.formBuilder.control(0),code:this.formBuilder.control(0),estatus:this.formBuilder.control(!0)})}submit(){if(this.loginForm.invalid)return;let s={name:this.loginForm.value.name,lastName:this.loginForm.value.lastName,password:this.loginForm.value.password,numTypeDocument:this.loginForm.value.numTypeDocument,typeDocument:this.loginForm.value.typeDocument,email:this.loginForm.value.email,phoneNumber:this.loginForm.value.phoneNumber,alias:this.loginForm.value.alias,userName:this.loginForm.value.userName,rolId:this.loginForm.value.rolId,code:this.loginForm.value.code,estatus:this.loginForm.value.estatus};this.userRepository.registerUser(s).subscribe(()=>{this.dialog.open(L,{data:G.datamodelSucess})},()=>{this.dialog.open(L,{data:G.datamodelError})})}onNewClick(){this.dialogService.open(O,{closeOnBackdropClick:!1,hasBackdrop:!0}).onClose.subscribe(s=>{console.log("Dialog closed",s)})}static \u0275fac=function(l){return new(l||a)(m(ne),m(xe),m(P),m(R),m(De))};static \u0275cmp=f({type:a,selectors:[["app-user-register"]],decls:60,vars:7,consts:[[3,"formGroup"],[1,"container"],[1,"flex-container","row"],[1,"col-12","col-sm-6"],["for","name",1,"form-label"],["type","text","nbInput","","fullWidth","","status","basic","placeholder","Name","formControlName","name"],["class","invalid-text",4,"ngIf"],["for","lastName",1,"form-label"],["type","text","nbInput","","fullWidth","","status","basic","placeholder","Last Name","formControlName","lastName"],["for","typeDocument",1,"form-label"],[1,"typeCasrs"],["placeholder","Document Type","formControlName","typeDocument",3,"ngModelChange","ngModel"],["value","1"],["value","2"],["value","3"],["value","4"],[1,"col-12","col-sm-2"],["for","email",1,"form-label"],["type","text","nbInput","","fullWidth","","status","basic","placeholder","Document type number","formControlName","numTypeDocument"],[1,"col-12","col-sm-4"],["for","Password",1,"form-label"],["type","password","nbInput","","fullWidth","","status","basic","placeholder","Password","formControlName","password"],["type","password","nbInput","","fullWidth","","status","basic","placeholder","Password","formControlName","repeatpassword"],["for","phoneNumber",1,"form-label"],["type","text","nbInput","","fullWidth","","status","basic","placeholder","Mobil Phone","formControlName","phoneNumber"],["type","text","nbInput","","fullWidth","","status","basic","placeholder","Email","formControlName","email"],[1,"btntype"],["type","submit",1,"btn","btn-primary",3,"click","disabled"],["nbButton","","status","primary",3,"click"],[1,"invalid-text"]],template:function(l,i){l&1&&(t(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),o(5,"Name *"),e(),n(6,"input",5),N(7,Oe,7,0,"div",6),e(),t(8,"div",3)(9,"label",7),o(10,"Last Name "),e(),n(11,"input",8),e(),t(12,"div",3)(13,"label",9),o(14,"Document Identifier *"),e(),t(15,"div",10)(16,"nb-select",11),Y("ngModelChange",function(p){return X(i.selectedItemType,p)||(i.selectedItemType=p),p}),t(17,"nb-option",12),o(18,"DNI"),e(),t(19,"nb-option",13),o(20,"Passport"),e(),t(21,"nb-option",14),o(22,"Local Document"),e(),t(23,"nb-option",15),o(24,"Driver Car"),e()()()(),t(25,"div",16)(26,"label",17),o(27,"Number Type Document "),e(),n(28,"input",18),e(),n(29,"div",16),t(30,"div",19)(31,"label",20),o(32,"Passwod *"),e(),n(33,"input",21),N(34,Ue,7,0,"div",6),e(),n(35,"div",16),t(36,"div",19)(37,"label",20),o(38,"Repeat Passwod *"),e(),n(39,"input",22),N(40,Ve,7,0,"div",6),e(),t(41,"div",19)(42,"label",23),o(43,"Mobil Phone "),e(),n(44,"input",24),e(),n(45,"div",16),t(46,"div",19)(47,"label",17),o(48,"Email * "),e(),n(49,"input",25),N(50,je,7,0,"div",6),e()(),t(51,"div",26)(52,"button",27),b("click",function(){return i.submit()}),o(53,"Submit"),e()()()(),t(54,"nb-card")(55,"nb-card-header"),o(56,"Employee"),e(),t(57,"nb-card-body")(58,"button",28),b("click",function(){return i.onNewClick()}),o(59,"Open Dialog"),e()()()),l&2&&(u("formGroup",i.loginForm),d(7),u("ngIf",i.f.name.invalid&&i.f.name.touched),d(9),Q("ngModel",i.selectedItemType),d(18),u("ngIf",i.f.password.invalid&&i.f.password.touched),d(6),u("ngIf",i.f.repeatpassword.invalid&&i.f.repeatpassword.touched),d(10),u("ngIf",i.f.email.invalid&&i.f.email.touched),d(2),u("disabled",!i.loginForm.valid))},dependencies:[h,Z,D,w,g,y,le,T,fe,ce,F,S,M,x,I,E,B,be,v],styles:[".flex-container[_ngcontent-%COMP%]{border:2ch}.flex-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-top:6px}.typeCasrs[_ngcontent-%COMP%]{padding-top:1px!important}.btntype[_ngcontent-%COMP%]{padding-top:12px!important}.invalid-text[_ngcontent-%COMP%]{font-size:.75rem;color:#fe6168}"]})};export{_e as UserRegisterComponent};
