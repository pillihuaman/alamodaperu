import './polyfills.server.mjs';
import{a as X}from"./chunk-F3PCO2PY.mjs";import{a as ee}from"./chunk-SMWEGEUO.mjs";import"./chunk-OUZKNZ4Z.mjs";import{a as Z}from"./chunk-IDSKALUM.mjs";import{a as Y}from"./chunk-WSQWBVCP.mjs";import"./chunk-UIV4R5VV.mjs";import"./chunk-UFXCTN3F.mjs";import"./chunk-GLNDTVHY.mjs";import"./chunk-4HU5A5SJ.mjs";import{Be as q,Ce as z,Db as C,Ea as o,Ec as R,Fa as r,Ga as y,Gc as O,Hc as k,Jb as N,Jd as B,Kd as E,La as p,Ld as j,Nd as G,Od as T,Pd as W,Qd as w,Te as J,Ua as n,Wa as S,We as K,Xe as Q,ee as A,fa as s,gc as h,ge as V,he as H,ja as i,jc as I,kc as D,ma as g,mc as F,nc as M,pa as b,pe as L,qa as v,rc as P,uc as _,we as U,xa as l,xc as x,xe as $}from"./chunk-QOSB5ZEG.mjs";import{a as u,b as f}from"./chunk-S6KH3LOX.mjs";function ie(m,d){if(m&1&&(o(0,"nb-option",13),n(1),r()),m&2){let e=d.$implicit;l("value",e.systemId),s(),S(" ",e.systemName," ")}}var te=class m extends ee{constructor(e,t,a,c,re,oe){super(e,t,oe);this.fb=a;this.systemService=c;this.router=re}pageForm;systems=[];ngOnInit(){this.pageForm=this.fb.group({id:[""],name:[""],url:[""],icon:[""],component:[""],systemId:[""],permissions:[[]],status:[!0]}),this.loadSystems()}loadSystems(){this.systemService.findSystems().subscribe(e=>{this.systems=e.payload})}savePage(){let e=f(u({},this.pageForm.value),{systemId:this.pageForm.value.systemId?.toString()??null});this.systemService.savePage(e).subscribe(t=>{console.log("Page saved:",t)})}deletePage(){let e=this.pageForm.get("id")?.value;e&&this.systemService.deletePage(e).subscribe(()=>{console.log("Page deleted:",e),this.pageForm.reset()})}returnPage(){this.router.navigate(["/support/system"])}static \u0275fac=function(t){return new(t||m)(i(Y),i(Z),i(R),i(X),i(h),i(L))};static \u0275cmp=g({type:m,selectors:[["app-page-detail"]],features:[b],decls:20,vars:2,consts:[[3,"formGroup"],[1,"form-grid"],["nbInput","","fullWidth","","placeholder","ID","formControlName","id","readonly",""],["nbInput","","fullWidth","","placeholder","Name","formControlName","name"],["nbInput","","fullWidth","","placeholder","URL","formControlName","url"],["nbInput","","fullWidth","","placeholder","Component","formControlName","component"],["nbInput","","fullWidth","","placeholder","Icon","formControlName","icon"],["fullWidth","","placeholder","Select System","formControlName","systemId"],[3,"value",4,"ngFor","ngForOf"],["formControlName","status"],[1,"button-container"],["nbButton","","status","primary",3,"click"],["nbButton","","status","danger",3,"click"],[3,"value"]],template:function(t,a){t&1&&(o(0,"nb-card")(1,"nb-card-header"),n(2,"Page Detail"),r(),o(3,"nb-card-body")(4,"form",0)(5,"div",1),y(6,"input",2)(7,"input",3)(8,"input",4)(9,"input",5)(10,"input",6),o(11,"nb-select",7),v(12,ie,2,2,"nb-option",8),r()(),o(13,"nb-checkbox",9),n(14,"Active"),r(),o(15,"div",10)(16,"button",11),p("click",function(){return a.savePage()}),n(17,"Save"),r(),o(18,"button",12),p("click",function(){return a.returnPage()}),n(19,"Return"),r()()()()()),t&2&&(s(4),l("formGroup",a.pageForm),s(8),l("ngForOf",a.systems))},dependencies:[N,C,I,w,W,T,G,j,E,H,V,B,Q,$,U,A,P,D,F,M,_,x,k,O,z,q,J,K],styles:[".button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px;margin-top:16px}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}@media (max-width: 1024px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 640px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};export{te as PageDetailComponent};
