import './polyfills.server.mjs';
import{a as re}from"./chunk-LGLALFI7.mjs";import{a as ne,b as ae,c as pe}from"./chunk-NQB6LHGR.mjs";import{a as oe}from"./chunk-C2CAX4T5.mjs";import{a as ie}from"./chunk-WSQWBVCP.mjs";import{$ as m,$b as F,Ad as U,Bd as K,Ca as C,D as u,E as c,Ea as f,Id as z,Ld as J,Ma as y,Md as Q,Na as D,Td as W,Ud as X,ac as E,bc as l,cc as x,ce as Y,da as t,dc as k,de as Z,fa as S,hc as R,ia as M,ic as _,jc as V,lc as w,pc as B,qa as s,rc as O,sd as j,tc as P,uc as T,ud as q,ue as $,ve as b,wd as H,xa as i,xb as g,xd as G,xe as ee,ya as n,yd as A,ye as te,za as a,zb as I,zd as L}from"./chunk-DSI7I6RW.mjs";import{a as N,b as v}from"./chunk-S6KH3LOX.mjs";var me=class h extends pe{constructor(d,e,o,r,p,se,le){super(le,p,e);this.fb=d;this.datePipe=o;this.supportService=r;this.dialogRef=se;this.dialogRef=se}ngOnInit(){this.buildForm(),this.entityData&&this.patchFormValues(),window.addEventListener("keydown",this.handleEscKey.bind(this))}patchFormValues(){this.formData.patchValue({id:this.entityData.id||"",name:this.entityData.name||"",lastName:this.entityData.lastName||"",startDate:this.entityData.startDate?b(this.entityData.startDate+"","dd/MM/yyyy",new Date):null,finishDate:this.entityData.finishDate?b(this.entityData.finishDate+"","dd/MM/yyyy",new Date):null,typeDocument:this.entityData.typeDocument||"",document:this.entityData.document||"",salaryHours:this.entityData.salaryHours||""}),console.log("Form Values:",this.formData.value)}buildForm(){this.formData=this.fb.group({id:[""],name:["",l.required],lastName:[""],startDate:["",l.required],finishDate:["",l.required],document:["",l.required],typeDocument:[""],salaryHours:[""],idToFind:[""],nameToFind:[""],lastNameToFind:[""],documentToFind:[""]})}onSubmit(){let d=this.datePipe.transform(this.formData.value.startDate,"dd/MM/yyyy")||"",e=this.datePipe.transform(this.formData.value.finishDate,"dd/MM/yyyy")||"",o=v(N({},this.formData.value),{startDate:d,finishDate:e});this.spinnerService.show(),this.supportService.saveEmployee(o).subscribe({next:()=>this.handleSuccessResponseSaveOrUpdate(o),error:r=>this.handleErrorResponseSaveOrUpdate(r)})}static \u0275fac=function(e){return new(e||h)(t(O),t(oe),t(g),t(re),t(ie),t(W),t(X))};static \u0275cmp=S({type:h,selectors:[["app-employee-detail"]],features:[M],decls:24,vars:4,consts:[["startDate",""],["finishDate",""],[3,"title"],[3,"ngSubmit","formGroup"],[1,"form-container"],["nbInput","","type","text","placeholder","ID","required","","formControlName","id","readonly",""],["nbInput","","type","text","placeholder","Name","required","","formControlName","name"],["nbInput","","type","text","placeholder","Last Name","required","","formControlName","lastName"],[1,"datepicker-group"],["nbInput","","placeholder","Start Date","formControlName","startDate",3,"nbDatepicker"],["format","dd/MM/yyyy"],["nbInput","","placeholder","End Date","formControlName","finishDate",3,"nbDatepicker"],["nbInput","","type","text","placeholder","Type Document","formControlName","typeDocument"],["nbInput","","type","number","placeholder","Salary Hours","formControlName","salaryHours"],["nbInput","","type","text","placeholder","Document","formControlName","document"],[1,"button-container"],["nbButton","","hero","","status","success","type","submit"],["nbButton","","hero","","status","danger","type","button",3,"click"]],template:function(e,o){if(e&1){let r=C();i(0,"nb-card")(1,"nb-card-body"),a(2,"app-modal-header",2),i(3,"form",3),f("ngSubmit",function(){return u(r),c(o.onSubmit())}),i(4,"div",4),a(5,"input",5)(6,"input",6)(7,"input",7),i(8,"div",8),a(9,"input",9)(10,"nb-datepicker",10,0),n(),i(12,"div",8),a(13,"input",11)(14,"nb-datepicker",10,1),n(),a(16,"input",12)(17,"input",13)(18,"input",14),n(),i(19,"app-modal-footer",15)(20,"button",16),D(21,"Save"),n(),i(22,"button",17),f("click",function(){return u(r),c(o.closeDialog())}),D(23,"Cancel"),n()()()()()}if(e&2){let r=y(11),p=y(15);m(2),s("title","Employee Detail"),m(),s("formGroup",o.formData),m(6),s("nbDatepicker",r),m(4),s("nbDatepicker",p)}},dependencies:[I,F,L,A,z,G,H,q,Q,J,j,te,U,K,R,E,_,x,k,B,V,w,T,P,ae,ne,Z,Y,$,ee],styles:[".form-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:16px;padding:16px;max-width:600px;margin:auto}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px;margin-top:16px}"]})};export{me as a};
