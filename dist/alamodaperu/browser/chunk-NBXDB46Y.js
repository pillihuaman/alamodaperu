import{a as Q}from"./chunk-AJL7O4RJ.js";import{a as Z}from"./chunk-LRVPKQWK.js";import"./chunk-DND26X2X.js";import{a as Y}from"./chunk-25GHDRPW.js";import{a as X}from"./chunk-C4MTUD5M.js";import"./chunk-4QW5O6GU.js";import"./chunk-SM2U5EFL.js";import"./chunk-MHISBB5P.js";import{$b as O,Ba as t,Ca as i,Da as y,Gb as S,Hd as $,Ia as c,Jb as C,Kb as N,Mb as h,Nb as I,Od as H,Pd as L,Ra as m,Rb as _,Sb as D,Ta as d,Td as U,Ub as F,Ud as q,Xb as x,bc as E,cc as P,ed as k,fd as R,ga as o,gd as B,id as T,jd as W,je as z,ka as p,kd as j,lb as M,ld as G,me as J,na as b,ne as K,qa as v,qb as g,ra as u,ua as r,wd as w,yd as A,zd as V}from"./chunk-KE7QE7ZJ.js";function ne(n,s){if(n&1&&(t(0,"nb-option",11),m(1),i()),n&2){let e=s.$implicit;r("value",e.systemId),o(),d(" ",e.systemName," ")}}function oe(n,s){if(n&1&&(t(0,"nb-option",11),m(1),i()),n&2){let e=s.$implicit;r("value",e.id),o(),d(" ",e.name," ")}}function re(n,s){if(n&1&&(t(0,"nb-option",11),m(1),i()),n&2){let e=s.$implicit;r("value",e.id),o(),d(" ",e.title," ")}}var ee=class n extends Z{constructor(e,l,a,f,te,ie){super(a,te,ie);this.fb=e;this.systemService=l;this.router=f}menuForm;systems=[];pages=[];parentMenus=[];ngOnInit(){this.menuForm=this.fb.group({id:[""],title:[""],icon:[""],url:[""],order:[],parentId:[""],systemId:[""],pageId:[""],status:[!0]}),this.loadDropdownData()}loadDropdownData(){this.systemService.findSystems().subscribe(e=>this.systems=e.payload),this.systemService.findPages().subscribe(e=>this.pages=e.payload),this.systemService.findMenus().subscribe(e=>this.parentMenus=e.payload)}saveMenu(){let e=this.menuForm.value;this.systemService.saveMenuItem(e).subscribe(l=>{console.log("Menu saved:",l)})}deleteMenu(){let e=this.menuForm.get("id")?.value;e&&this.systemService.deleteMenu(e).subscribe(()=>{console.log("Menu deleted:",e),this.menuForm.reset()})}returnMenu(){this.router.navigate(["/support/system"])}static \u0275fac=function(l){return new(l||n)(p(O),p(Q),p(X),p(S),p(Y),p($))};static \u0275cmp=b({type:n,selectors:[["app-menu-detail"]],features:[v],decls:26,vars:5,consts:[[3,"formGroup"],[1,"form-grid"],["nbInput","","fullWidth","","placeholder","ID","formControlName","id","readonly",""],["nbInput","","fullWidth","","placeholder","Title","formControlName","title"],["nbInput","","fullWidth","","placeholder","Icon","formControlName","icon"],["nbInput","","fullWidth","","placeholder","URL","formControlName","url"],["nbInput","","fullWidth","","placeholder","Order","type","number","formControlName","order"],["fullWidth","","placeholder","System","formControlName","systemId"],[3,"value",4,"ngFor","ngForOf"],["fullWidth","","placeholder","Page","formControlName","pageId"],["fullWidth","","placeholder","Parent Menu","formControlName","parentId"],[3,"value"],["formControlName","status"],[1,"button-container"],["nbButton","","status","primary",3,"click"],["nbButton","","status","danger",3,"click"]],template:function(l,a){l&1&&(t(0,"nb-card")(1,"nb-card-header"),m(2,"Menu Detail"),i(),t(3,"nb-card-body")(4,"form",0)(5,"div",1),y(6,"input",2)(7,"input",3)(8,"input",4)(9,"input",5)(10,"input",6),t(11,"nb-select",7),u(12,ne,2,2,"nb-option",8),i(),t(13,"nb-select",9),u(14,oe,2,2,"nb-option",8),i(),t(15,"nb-select",10)(16,"nb-option",11),m(17,"No Parent"),i(),u(18,re,2,2,"nb-option",8),i()(),t(19,"nb-checkbox",12),m(20,"Active"),i(),t(21,"div",13)(22,"button",14),c("click",function(){return a.saveMenu()}),m(23,"Save"),i(),t(24,"button",15),c("click",function(){return a.returnMenu()}),m(25,"Return"),i()()()()()),l&2&&(o(4),r("formGroup",a.menuForm),o(8),r("ngForOf",a.systems),o(2),r("ngForOf",a.pages),o(2),r("value",""),o(2),r("ngForOf",a.parentMenus))},dependencies:[g,M,C,G,j,W,T,B,R,V,A,k,K,L,H,w,_,N,D,h,I,F,x,P,E,q,U,z,J],styles:[".button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px;margin-top:16px}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}@media (max-width: 1024px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 640px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};export{ee as MenuDetailComponent};
