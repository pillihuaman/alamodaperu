import{a as S}from"./chunk-J4WYP6TI.js";import{a as y}from"./chunk-VVXZNI42.js";import{a as u}from"./chunk-C4MTUD5M.js";import{a}from"./chunk-SM2U5EFL.js";import{Xd as l,Y as c,la as r,qa as m}from"./chunk-V3AJZABF.js";var g=class p{page=a.page;pageSize=a.perPage;result;dialogRef;formData;entityData;entityUpdated=new c;hasMorePagesT=!0;defaultColumnsInput=[];isRegisterEmployeeExpanded=!1;modalRepository;spinnerService;dialogService;constructor(e,t,o){this.modalRepository=e,this.spinnerService=t,this.dialogService=o}customizePropertyNames(e,t){return e.map((o,s)=>{let i={};for(let n in o)t[n]&&(i[t[n]]=o[n]);return{data:i}})}revertPropertyNames(e,t){return e.map(o=>{let s={};for(let i in o.data){let d=Object.keys(t).find(n=>t[n]===i);s[d||i]=o.data[i]}return s})}onPageSizeChange(e){}onPageChange(e){this.page=e,console.log("emitter pageChange->>>employee "+this.page),this.findByDefualt()}findByparameter(){}findByDefualt(){}closeDialog(){this.dialogRef&&this.dialogRef.close()}handleEscKey(e){e.key==="Escape"&&this.closeDialog()}updateHasMorePagesT(e){this.hasMorePagesT=e}setDefaultColumns(e){e&&e.length>0?this.defaultColumnsInput=Object.keys(e[0].data):this.defaultColumnsInput=[]}openDeleteModal(e){let t={data:e,description:e.Name,typeDescription:"QUESTION".toString()};return this.dialogService.open(S,{context:{rowData:t}})}showNoDataMessage(){this.modalRepository.showToast("warning","No se encontraron empleados con los filtros ingresados","Succes")}showSuccessMessage(e,t){this.modalRepository.showToast("success",e,t),this.spinnerService.hide()}handleValidationErrors(e,t){(e.status===422||e.status===500)&&e.error&&e.error.data&&e.error.data.payload&&e.error.data.payload.forEach(o=>{let s=o.propertyPath,i=o.valExceptionDescription;t.get(s)?.setErrors({invalid:!0,customError:i})}),this.spinnerService.hide()}handleSuccessResponseSaveOrUpdate(e){this.modalRepository.showToast("success","Save Success","Success"),this.formData.reset(),this.dialogRef&&(this.entityUpdated.emit(e),this.dialogRef.close(e),this.spinnerService.hide())}handleErrorResponseSaveOrUpdate(e){(e.status===422||e.status===500)&&e.error?.data?.payload&&e.error.data.payload.forEach(t=>{let o=t.propertyPath,s=t.valExceptionDescription;this.formData.get(o)?.setErrors({invalid:!0,customError:s})}),this.spinnerService.hide()}showWarningMessage(e,t){this.modalRepository.showToast("warning",e,t),this.spinnerService.hide()}showWErrorMessage(e,t){this.modalRepository.showToast("danger",e,t),this.spinnerService.hide()}static \u0275fac=function(t){return new(t||p)(r(u),r(y),r(l))};static \u0275dir=m({type:p,inputs:{formData:"formData",entityData:"entityData"},outputs:{entityUpdated:"entityUpdated"}})};export{g as a};
