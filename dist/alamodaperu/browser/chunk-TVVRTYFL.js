import{i as E}from"./chunk-HUQJSXFI.js";import{I as c,L as n,i as l,p as u,q as I,wb as g,y as i,yb as p}from"./chunk-V3AJZABF.js";var b=class o{constructor(t){this.http=t}static USERNAME_SEGURIDAD;static PASSWORD_SEGURIDAD;static ACCEPT_COOKIE="ACCEPT_COOKIE";static API_SEGURIDAD;static API_SUPPORT;static API_INTELLIGENCY_ARTIFICIAL;static API_SEARCH;static API_IMAGEN;static URL_TYPE_ACCES_PRIVATE;static URL_TYPE_ACCES_PUBLIC;static URL_TYPE_ACCES_IMG_AWS;static KEY="@@@@@dddd....dont be evil.....";static API_FILE_IA;static IDPRODUCT;static IDUSUARIO;loadCommonConfig(){return l(this,null,function*(){console.log("[APP_INITIALIZER] Inicio de loadCommonConfig");try{let t=yield I(this.http.get("./assets/config/common.config.pro.json"));console.log("[APP_INITIALIZER] Config cargado:",t),o.API_SEGURIDAD=t.public_base_url_seguridad,o.API_SUPPORT=t.public_base_url_support,o.API_SEARCH=t.public_base_url_search,o.URL_TYPE_ACCES_PUBLIC=t.acces_public,o.URL_TYPE_ACCES_PRIVATE=t.acces_private,o.API_IMAGEN=t.public_base_url_imagen,o.API_INTELLIGENCY_ARTIFICIAL=t.public_base_url_file_IA,o.URL_TYPE_ACCES_IMG_AWS=t.public_access_catalogo_img_aws,o.IDPRODUCT=t.idProducto,o.IDUSUARIO=t.idUsuario,console.log("[APP_INITIALIZER] Configuraci\xF3n com\xFAn aplicada correctamente.")}catch(t){console.error("[APP_INITIALIZER] Error al cargar configuraci\xF3n com\xFAn:",t)}})}loadEntidadConfig(){return l(this,null,function*(){console.log("[APP_INITIALIZER] Inicio de loadEntidadConfig");try{let t=yield I(this.http.get("./assets/config/pillihuaman-web.config.json"));console.log("[APP_INITIALIZER] Config entidad cargada:",t),o.USERNAME_SEGURIDAD=t.client_id,o.PASSWORD_SEGURIDAD=t.client_secret}catch(t){console.error("[APP_INITIALIZER] Error al cargar configuraci\xF3n de entidad:",t)}})}static \u0275fac=function(r){return new(r||o)(n(p))};static \u0275prov=c({token:o,factory:o.\u0275fac,providedIn:"root"})};var m=class o{constructor(t,r){this.http=t;this.dialog=r}requestFilter(t){let r="";return Object.keys(t).forEach(e=>{let s=t[e],a=s||s===0?typeof s=="string"?s.trim():s:null;(a||a===0)&&(r+=`${e}=${a}&`)}),r=r.substr(0,r.length-1),r}formatErrors(t){let r=t.error?t.error:t;if(t&&t.error&&t.error.status&&t.error.status.error&&t.error.status.error.messages){let e=t.error.payload?t.error.payload.message:"An error occurred";return u(e)}return u(r)}get(t,r){return this.http.get(t,{params:r}).pipe(i(e=>this.formatErrors(e)))}put(t,r={}){return this.http.put(t,r).pipe(i(e=>this.formatErrors(e)))}patch(t,r={}){return this.http.patch(t,r).pipe(i(e=>this.formatErrors(e)))}post(t,r){return this.http.post(t,r).pipe()}uploadFilesMultipartFile(t,r){let e=localStorage.getItem("token"),s=new g({Authorization:`Bearer ${e}`});return this.http.post(r,t,{headers:s}).pipe(i(a=>this.formatErrors(a)))}postToFile(t,r){return this.http.post(t,r).pipe(i(e=>this.formatErrors(e)))}postFile(t,r){console.log(`POST to File Request: ${t} with body:`,r);for(let e of r.entries())console.log(`${e[0]}:`,e[1]);return this.http.post(t,r).pipe(i(e=>(console.log("POST ",e),this.formatErrors(e))))}putHTML(t,r={}){return this.http.put(t,r,{responseType:"text"}).pipe(i(e=>this.formatErrors(e)))}postHTML(t,r={}){return this.http.post(t,r,{responseType:"text"}).pipe(i(e=>this.formatErrors(e)))}getHTML(t){return this.http.get(t,{responseType:"text"}).pipe(i(r=>this.formatErrors(r)))}delete(t){return this.http.delete(t).pipe(i(r=>this.formatErrors(r)))}static \u0275fac=function(r){return new(r||o)(n(p),n(E))};static \u0275prov=c({token:o,factory:o.\u0275fac})};export{b as a,m as b};
