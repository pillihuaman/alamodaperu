import{i as m}from"./chunk-XCMH52VP.js";import{G as l,J as p,n,qb as u,sb as h,w as o}from"./chunk-5E6KOILT.js";var c=class a{constructor(t,r){this.http=t;this.dialog=r}requestFilter(t){let r="";return Object.keys(t).forEach(e=>{let s=t[e],i=s||s===0?typeof s=="string"?s.trim():s:null;(i||i===0)&&(r+=`${e}=${i}&`)}),r=r.substr(0,r.length-1),r}formatErrors(t){let r=t.error?t.error:t;if(t&&t.error&&t.error.status&&t.error.status.error&&t.error.status.error.messages){let e=t.error.payload?t.error.payload.message:"An error occurred";return n(e)}return n(r)}get(t,r){return this.http.get(t,{params:r}).pipe(o(e=>this.formatErrors(e)))}put(t,r={}){return this.http.put(t,r).pipe(o(e=>this.formatErrors(e)))}patch(t,r={}){return this.http.patch(t,r).pipe(o(e=>this.formatErrors(e)))}post(t,r){return this.http.post(t,r).pipe()}uploadFilesMultipartFile(t,r){let e=localStorage.getItem("token"),s=new u({Authorization:`Bearer ${e}`});return this.http.post(r,t,{headers:s}).pipe(o(i=>this.formatErrors(i)))}postToFile(t,r){return this.http.post(t,r).pipe(o(e=>this.formatErrors(e)))}postFile(t,r){console.log(`POST to File Request: ${t} with body:`,r);for(let e of r.entries())console.log(`${e[0]}:`,e[1]);return this.http.post(t,r).pipe(o(e=>(console.log("POST ",e),this.formatErrors(e))))}putHTML(t,r={}){return this.http.put(t,r,{responseType:"text"}).pipe(o(e=>this.formatErrors(e)))}postHTML(t,r={}){return this.http.post(t,r,{responseType:"text"}).pipe(o(e=>this.formatErrors(e)))}getHTML(t){return this.http.get(t,{responseType:"text"}).pipe(o(r=>this.formatErrors(r)))}delete(t){return this.http.delete(t).pipe(o(r=>this.formatErrors(r)))}static \u0275fac=function(r){return new(r||a)(p(h),p(m))};static \u0275prov=l({token:a,factory:a.\u0275fac})};export{c as a};
