import{a as ne}from"./chunk-X3J7YRVF.js";import{a as re}from"./chunk-DEYWHEGI.js";import{j as ie}from"./chunk-ELOWQZB7.js";import{$a as V,Ad as ee,Bb as x,Bd as te,Cb as B,Ea as P,Fa as O,Ga as N,Gb as U,Ha as I,I as s,Ia as c,Ib as k,J as m,Ka as F,Kb as L,Ma as M,Na as w,Oa as R,Qb as Q,Rc as W,Sa as S,Sb as $,Ta as E,Tb as j,Tc as q,Vc as z,Wc as H,Y as l,Yc as J,Zd as oe,ba as d,bb as D,ea as v,fb as G,ia as h,id as K,jd as X,k as b,la as u,n as C,sa as n,sd as Y,ta as i,ua as y,xa as _,xd as Z,yb as T,za as g,zb as A}from"./chunk-HKEP7HVR.js";var ae=["autoInput"];function se(p,o){if(p&1&&(n(0,"nb-option",17),c(1),i()),p&2){let e=o.$implicit;u("value",e),l(),F(" ",e," ")}}var pe=class p{constructor(o,e,t){this.fb=o;this.re=e;this.authenticationService=t;this.myForm=this.fb.group({description:[""],name:[""],type:[""]})}myForm;lisParameter;selectedTypeProduct;options=[];filteredOptions$;input;itemList=[{value:"Item 1"},{value:"Item 2"},{value:"Item 3"}];ngOnInit(){this.options=["Option 1","Option 2","Option 3"],this.filteredOptions$=b(this.options),this.getParameter()}onChange(){this.filteredOptions$=this.getFilteredOptions(this.input.nativeElement.value)}onSelectionChange(o){this.filteredOptions$=this.getFilteredOptions(o)}filter(o){let e=o.toLowerCase();return this.options?.filter(t=>t.toLowerCase().includes(e))??[]}getFilteredOptions(o){return b(o).pipe(C(e=>this.filter(e)))}save(){let o=this.authenticationService.getCurrentUserValue;if(!o?.id_user){console.error("No user is logged in.");return}let e={name:this.myForm.get("name")?.value,description:this.myForm.get("description")?.value,idUser:o.id_user};this.re.saveProduct(e).subscribe(t=>{},t=>{})}getParameter(){let o=this.authenticationService.getCurrentUserValue,e={idCode:""};this.re.getParameterbyIdCode(e).subscribe(t=>{this.lisParameter=t},t=>{})}static \u0275fac=function(e){return new(e||p)(d(Q),d(ne),d(re))};static \u0275cmp=v({type:p,selectors:[["app-register-product"]],viewQuery:function(e,t){if(e&1&&P(ae,5),e&2){let r;O(r=N())&&(t.input=r.first)}},decls:23,vars:6,consts:[["autoInput",""],["auto",""],[3,"formGroup"],[1,"form-row"],["formControlName","type",3,"ngModelChange","ngModel"],["size","small"],["nbInput","","type","text","placeholder","Enter value",3,"input","nbAutocomplete"],[3,"selectedChange"],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","paddingObect","col-sm-10"],["for","formGroupExampleInput"],["type","text","id","formGroupExampleInput","placeholder","Name","formControlName","name",1,"form-control"],["for","formGroupExampleInput2"],["type","text","id","formGroupExampleInput2","placeholder","Description","formControlName","description",1,"form-control"],[1,"form-group","paddingObect"],[1,"col-sm-10"],[1,"btn","btn-primary",3,"click"],[3,"value"]],template:function(e,t){if(e&1){let r=_();n(0,"form",2)(1,"div",3)(2,"nb-autocomplete",4),R("ngModelChange",function(a){return s(r),w(t.selectedTypeProduct,a)||(t.selectedTypeProduct=a),m(a)}),i(),n(3,"nb-card",5)(4,"nb-card-body")(5,"input",6,0),g("input",function(){return s(r),m(t.onChange())}),i(),n(7,"nb-autocomplete",7,1),g("selectedChange",function(a){return s(r),m(t.onSelectionChange(a))}),h(9,se,2,2,"nb-option",8),S(10,"async"),i()()(),n(11,"div",9)(12,"label",10),c(13,"*Name Product"),i(),y(14,"input",11),i(),n(15,"div",9)(16,"label",12),c(17,"*Description Product"),i(),y(18,"textarea",13),i(),n(19,"div",14)(20,"div",15)(21,"button",16),g("click",function(){return s(r),m(t.save())}),c(22,"Register"),i()()()()()}if(e&2){let r=I(8);u("formGroup",t.myForm),l(2),M("ngModel",t.selectedTypeProduct),l(3),u("nbAutocomplete",r),l(4),u("ngForOf",E(10,4,t.filteredOptions$))}},dependencies:[G,V,D,j,U,A,x,B,k,L,ie,Y,T,J,H,z,q,X,K,W,oe,Z,ee,te,$],styles:[".paddingObect[_ngcontent-%COMP%]{padding-top:1%}.formGroupExampleInput[_ngcontent-%COMP%], .select-product[_ngcontent-%COMP%]{display:block}"]})};export{pe as RegisterProductComponent};
