import{a as u}from"./chunk-4ALBM3H7.js";import{a as t}from"./chunk-3BLQDXDP.js";import{G as p,J as i,k as n,sb as o}from"./chunk-5E6KOILT.js";var m=class a{constructor(e,s){this.http=e;this.apiService=s}systemSubject=new n([]);pageSubject=new n([]);menuSubject=new n([]);system$=this.systemSubject.asObservable();page$=this.pageSubject.asObservable();menu$=this.menuSubject.asObservable();findSystems(e){let s=`${t.API_SUPPORT}/${t.URL_TYPE_ACCES_PRIVATE}/v1/support/system`,r={};return e?.id&&(r.id=e.id),e?.name&&(r.name=e.name),e?.page!=null&&(r.page=e.page),e?.pagesize!=null&&(r.pagesize=e.pagesize),this.apiService.get(s,r)}saveSystem(e){let s={data:e,trace:{traceId:"01"}},r=`${t.API_SUPPORT}/${t.URL_TYPE_ACCES_PRIVATE}/v1/support/system`;return this.apiService.post(r,s)}deleteSystem(e){let s=`${t.API_SUPPORT}/${t.URL_TYPE_ACCES_PRIVATE}/v1/support/system/${e}`;return this.apiService.delete(s)}findPages(){let e=`${t.API_SUPPORT}/${t.URL_TYPE_ACCES_PRIVATE}/v1/support/page`;return this.apiService.get(e)}findPagesBySystem(e){let s=`${t.API_SUPPORT}/${t.URL_TYPE_ACCES_PRIVATE}/v1/support/page/bySystem?systemId=${e}`;return this.apiService.get(s)}savePage(e){let s={data:e,trace:{traceId:"01"}},r=`${t.API_SUPPORT}/${t.URL_TYPE_ACCES_PRIVATE}/v1/support/page`;return this.apiService.post(r,s)}deletePage(e){let s=`${t.API_SUPPORT}/${t.URL_TYPE_ACCES_PRIVATE}/v1/support/page/${e}`;return this.apiService.delete(s)}findMenus(){let e=`${t.API_SUPPORT}/${t.URL_TYPE_ACCES_PRIVATE}/v1/support/menu`;return this.apiService.get(e)}findMenusBySystem(e){let s=`${t.API_SUPPORT}/${t.URL_TYPE_ACCES_PRIVATE}/v1/support/menu/bySystem?systemId=${e}`;return this.apiService.get(s)}findMenusByParent(e){let s=`${t.API_SUPPORT}/${t.URL_TYPE_ACCES_PRIVATE}/v1/support/menu/byParent?parentId=${e}`;return this.apiService.get(s)}saveMenuItem(e){let s={data:e,trace:{traceId:"01"}},r=`${t.API_SUPPORT}/${t.URL_TYPE_ACCES_PRIVATE}/v1/support/menu`;return this.apiService.post(r,s)}deleteMenu(e){let s=`${t.API_SUPPORT}/${t.URL_TYPE_ACCES_PRIVATE}/v1/support/menu/${e}`;return this.apiService.delete(s)}fetchSystems(){this.findSystems().subscribe(e=>{this.systemSubject.next(e.payload)})}fetchPages(){this.findPages().subscribe(e=>{this.pageSubject.next(e.payload)})}fetchMenus(){this.findMenus().subscribe(e=>{this.menuSubject.next(e.payload)})}reloadSystems(){this.systemSubject.next(this.systemSubject.value)}reloadPages(){this.pageSubject.next(this.pageSubject.value)}reloadMenus(){this.menuSubject.next(this.menuSubject.value)}searchSystemEntitiesLineal(e){let s=`${t.API_SUPPORT}/${t.URL_TYPE_ACCES_PRIVATE}/v1/support/system/general`,r={};return e?.id&&(r.id=e.id),e?.name&&(r.name=e.name),e?.pageName&&(r.pageName=e.pageName),e?.pageUrl&&(r.pageUrl=e.pageUrl),e?.menuTitle&&(r.menuTitle=e.menuTitle),e?.menuUrl&&(r.menuUrl=e.menuUrl),e?.page!=null&&(r.page=e.page),e?.pagesize!=null&&(r.pagesize=e.pagesize),this.apiService.get(s,r)}findSystemMenuTree(){let e=`${t.API_SUPPORT}/${t.URL_TYPE_ACCES_PRIVATE}/v1/support/system/menu-tree`;return this.apiService.get(e)}static \u0275fac=function(s){return new(s||a)(i(o),i(u))};static \u0275prov=p({token:a,factory:a.\u0275fac,providedIn:"root"})};export{m as a};
